---
import { getCollection } from "astro:content";
import SiteLayout from '../layouts/SiteLayout.astro';

const experienceCollection = await getCollection("experience");

const experienceList = experienceCollection.map(item => {
  return { ...item.data, body: item.body }
});

experienceList.sort((a, b) => b.year - a.year);

const uniqueYears = experienceList.reduce((years, item) => {
  const year = item.year;

  // Check if the year is not already in the array
  if (!years.includes(year)) {
    years.push(year);
  }

  return years;
}, [] as number[]);
---

<SiteLayout title="Home Page">
  <section class="px-4 md:px-10 lg:px-20 xl:px-40 hero flex flex-col justify-around align-center">
    <div class="flex flex-col-reverse lg:flex-row justify-between items-center">
      <div class="w-full lg:w-3/5 text-center lg:text-left">
        <div class="flex flex-col-reverse gap-y-1">
          <h1 class="font-primary text-4xl md:text-6xl mb-6 md:mb-8">I'm Maxim</h1>
          <h2 class="font-mono text-violet-500 font-semibold">hello world</h2>
        </div>
        <p class="font-mono leading-relaxed">Welcome to my personal spot on the internet! I'm a web developer with a passion for bringing concepts to life and constantly <strong>improving site interaction</strong> for users. In my work, I place a <strong>strong emphasis on performance and user experience</strong>, ensuring that everyone can enjoy the content and features of the sites I build.</p>
        <a href="/about" class="mt-4 inline-block text-violet-500 underline underline-offset-8 font-mono hover:no-underline">Get to know me</a>
      </div>
      <img src="/me.png" width="300" height="300" class="h-36 w-36 md:h-72 md:w-72 transition-all hover:rotate-45"/>
    </div>
    <ul class="flex justify-center gap-8">
      <li class="p-2 rounded-lg border border-transparent hover:bg-violet-50 hover:border-violet-200">
        <a href="https://github.com/maximdegeyter" target="_blank" rel="noopener noreferrer"><img src="/github-logo.svg" width="24" height="24" alt="Github logo"></a>
      </li>
      <li class="p-2 rounded-lg border border-transparent hover:bg-violet-50 hover:border-violet-200">
        <a href="https://www.linkedin.com/in/maximdegeyter/" target="_blank" rel="noopener noreferrer"><img src="/linkedin-logo.svg" width="24" height="24" alt="LinkedIn logo"></a>
      </li>
      <li class="p-2 rounded-lg border border-transparent hover:bg-violet-50 hover:border-violet-200">
        <a href="https://twitter.com/maximdegeyter" target="_blank" rel="noopener noreferrer"><img src="/x-logo.svg" width="24" height="24" alt="X logo"></a>
      </li>
    </ul>
  </section>
  <section class="px-4 md:px-10 lg:px-20 py-10 bg-violet-50 border-y border-violet-200">
    <h2 class="text-violet-500 font-primary text-2xl mb-8">Some skills I've acquired over the years</h2>
    <ul class="flex flex-col lg:flex-row justify-evenly items-center lg:items-stretch gap-4">
      <li class="w-full sm:w-1/2 lg:w-1/3 p-2 border border-dashed rounded-lg border-violet-300">
        <div>
          <h3 class="uppercase mb-2 tracking-wide text-violet-500 font-semibold">Frontend</h3>
          <p class="font-mono">HTML // CSS // Javascript // RESTful // React // SCSS // Next.js // GraphQL // Vue.js // NuxtJS // Typescript // Git</p>
        </div>
      </li>
      <li class="w-full sm:w-1/2 lg:w-1/3 p-2 border border-dashed rounded-lg border-violet-300">
        <div>
          <h3 class="uppercase mb-2 tracking-wide text-violet-500 font-semibold">Backend</h3>
          <p class="font-mono">Node.js // Express // PHP // AEM Platform // MongoDB // MySQL</p>
        </div>
      </li>
    </ul>
  </section>
  <section class="mx-4 md:mx-10 lg:mx-20 py-10 mb-10 border-b ">
    <h2 class="font-primary text-2xl mb-8">Education & Experience</h2>
    {
      uniqueYears.map((year) => (
        <div class="mb-8">
          <h3 class="font-mono text-violet-500 font-semibold mb-4">{year}</h3>
          <ul class="list list-inside">
            {
              experienceList.filter((item) => item.year === year).map((item) => (
                <li class="font-mono mb-8 ml-10 flex flex-row gap-4 items-center">
                  <div class="border-l-2 border-violet-500 pl-2">
                    <h3 class="font-semibold">{item.title}</h3>
                    <p>{item.detail}</p>
                  </div>
                </li>
              ))
            }
          </ul>
        </div>
      ))
    }
  </section>
  <section class="px-4 md:px-10 lg:px-20 py-10">
    <div class="md:mx-20 lg:mx-40 p-4 bg-violet-50 border border-violet-200 rounded flex flex-col gap-2">
      <h1 class="font-primary text-violet-500 text-xl md:text-2xl mb-2 md:mb-4">Let's get in touch</h1>
      <p>Interested in a collaboration or chat? I like to work on cool stuff, so hit me up!</p>
      <a href="mailto:maximdegeyter@gmail.com" class="self-start group px-4 py-2 bg-white border border-violet-200 rounded flex items-center gap-4">
        <span class="text-violet-500 font-semibold">Say hello</span>
        <svg class="transition-all group-hover:rotate-12 group-hover:ml-4" xmlns="http://www.w3.org/2000/svg" viewBox="-0.335 -0.335 16 16" height="16" width="16"><defs></defs><path d="M0.6783524999999999 7.657334999999999a0.6496087499999998 0.6496087499999998 0 0 0 -0.04662874999999999 1.1363362499999998l4.1589012499999995 2.5677749999999993v3.3215a0.32767874999999996 0.32767874999999996 0 0 0 0.559545 0.23186624999999997l1.9833187499999998 -1.9833187499999998 3.2052474999999996 1.980125a0.6783524999999999 0.6783524999999999 0 0 0 0.6074512499999999 0.052377499999999994 0.6585512499999999 0.6585512499999999 0 0 0 0.39794124999999997 -0.45415124999999995L15.010624999999997 0.31937499999999996Z" fill="#ffffff" stroke-width="0.67"></path><path d="m7.33285 12.928299999999998 -1.980125 1.9865124999999997a0.33023375 0.33023375 0 0 1 -0.5620999999999999 -0.22994999999999996v-3.3215Z" fill="#f5f3fe" stroke-width="0.67"></path><path d="M0.6317237499999999 8.79367125a0.6496087499999998 0.6496087499999998 0 0 1 0.04662874999999999 -1.1363362499999998L15.010624999999997 0.31937499999999996l-3.466496249999999 14.188553749999999a0.6585512499999999 0.6585512499999999 0 0 1 -0.39794124999999997 0.45415124999999995 0.6783524999999999 0.6783524999999999 0 0 1 -0.6074512499999999 -0.052377499999999994Z" fill="none" stroke="#845eee" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.67"></path><path d="M7.333488749999999 12.93149375 5.350169999999999 14.9148125a0.32767874999999996 0.32767874999999996 0 0 1 -0.559545 -0.23186624999999997v-3.3215L15.010624999999997 0.31937499999999996" fill="none" stroke="#845eee" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.67"></path></svg>
      </a>
    </div>
  </section>
</SiteLayout>
